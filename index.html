<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulador Punto de Equilibrio</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary-color: #1a1f4f;
      --secondary-color: #8c1c13;
      --light-bg: #f4f6f9;
      --success-color: #dcedc8;
      --success-text: #2e7d32;
      --warning-color: #fff9c4;
      --warning-text: #f9a825;
      --danger-color: #ffcdd2;
      --danger-text: #c62828;
    }
    
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--light-bg);
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }
    
    header {
      background-color: var(--primary-color);
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 24px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    section {
      display: none;
      margin-bottom: 40px;
      background-color: white;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    section.active {
      display: block;
      animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    h2 {
      color: var(--primary-color);
      margin-top: 0;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }
    
    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
      color: #333;
    }
    
    input, select, button {
      padding: 12px;
      font-size: 1rem;
      margin-top: 5px;
      margin-bottom: 15px;
      width: 100%;
      box-sizing: border-box;
      border: 1px solid #ddd;
      border-radius: 4px;
      transition: all 0.3s ease;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 2px rgba(26, 31, 79, 0.2);
    }
    
    button {
      background-color: var(--secondary-color);
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      font-weight: bold;
      margin-top: 15px;
    }
    
    button:hover {
      background-color: #a42d25;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    button.secondary {
      background-color: #6c757d;
    }
    
    button.secondary:hover {
      background-color: #5a6268;
    }
    
    .button-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    
    .button-group button {
      flex: 1;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    
    th, td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }
    
    th {
      background-color: var(--primary-color);
      color: white;
    }
    
    tr:nth-child(even) {
      background-color: #f8f9fa;
    }
    
    .actions button {
      width: auto;
      margin-right: 5px;
      padding: 8px 12px;
      font-size: 0.9rem;
    }
    
    .summary {
      font-weight: bold;
      padding: 15px;
      border-radius: 4px;
      margin: 15px 0;
    }
    
    .summary.green { 
      background-color: var(--success-color); 
      color: var(--success-text); 
    }
    
    .summary.yellow { 
      background-color: var(--warning-color); 
      color: var(--warning-text); 
    }
    
    .summary.red { 
      background-color: var(--danger-color); 
      color: var(--danger-text); 
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .price-method-group {
      display: none;
    }
    
    #manualPriceGroup, #margenGroup {
      margin-top: 15px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      margin-bottom: 20px;
    }
    
    .progress-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
      position: relative;
    }
    
    .progress-bar::before {
      content: '';
      position: absolute;
      top: 15px;
      left: 0;
      right: 0;
      height: 4px;
      background-color: #e9ecef;
      z-index: 1;
    }
    
    .progress-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 2;
    }
    
    .step-number {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background-color: #e9ecef;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-bottom: 5px;
    }
    
    .step-label {
      font-size: 0.9rem;
      color: #6c757d;
    }
    
    .progress-step.active .step-number {
      background-color: var(--primary-color);
      color: white;
    }
    
    .progress-step.active .step-label {
      color: var(--primary-color);
      font-weight: bold;
    }
    
    .progress-step.completed .step-number {
      background-color: var(--secondary-color);
      color: white;
    }
    
    .estimation-table {
      width: 100%;
      margin-top: 20px;
    }
    
    .estimation-table th {
      background-color: #6c757d;
    }
    
    .estimation-table td {
      text-align: center;
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      section {
        padding: 15px;
      }
      
      .button-group {
        flex-direction: column;
      }
      
      .progress-bar {
        flex-wrap: wrap;
      }
      
      .progress-step {
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>
  <header>Simulador Punto de Equilibrio</header>
  <div class="container">
    <div class="progress-bar">
      <div class="progress-step active" id="step1">
        <div class="step-number">1</div>
        <div class="step-label">Costos Fijos</div>
      </div>
      <div class="progress-step" id="step2">
        <div class="step-number">2</div>
        <div class="step-label">Productos</div>
      </div>
      <div class="progress-step" id="step3">
        <div class="step-number">3</div>
        <div class="step-label">Cálculos</div>
      </div>
    </div>

    <section id="fase1" class="active">
      <h2>Fase 1: Ingreso de costos fijos</h2>
      <div class="card">
        <div class="form-group">
          <label for="costoConcepto">Concepto:</label>
          <input type="text" id="costoConcepto" placeholder="Ej: Alquiler, Salarios, etc.">
        </div>
        <div class="form-group">
          <label for="costoMonto">Monto:</label>
          <input type="number" id="costoMonto" min="0" step="0.01" placeholder="0.00">
        </div>
        <button onclick="agregarCostoFijo()">Agregar Costo Fijo</button>
      </div>
      
      <div class="card">
        <h3>Costos Fijos Registrados</h3>
        <table>
          <thead>
            <tr>
              <th>Concepto</th>
              <th>Monto</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="tablaCostos"></tbody>
          <tfoot>
            <tr>
              <th>Total</th>
              <th id="totalCostos">$0.00</th>
              <th></th>
            </tr>
          </tfoot>
        </table>
      </div>
      
      <div class="button-group">
        <button onclick="goToFase2()">Siguiente</button>
      </div>
    </section>

    <section id="fase2">
      <h2>Fase 2: Ingreso de productos</h2>
      <div class="card">
        <div class="form-group">
          <label for="productName">Nombre del producto:</label>
          <input type="text" id="productName" placeholder="Nombre del producto">
        </div>
        <div class="form-group">
          <label for="unitCost">Costo variable unitario:</label>
          <input type="number" id="unitCost" min="0" step="0.01" placeholder="0.00">
        </div>
        <button onclick="addProductToList()">Agregar Producto</button>
      </div>
      
      <div class="card">
        <h3>Productos Registrados</h3>
        <table id="tablaProductos">
          <thead>
            <tr>
              <th>Producto</th>
              <th>Costo Unitario</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="productTableBody"></tbody>
        </table>
      </div>
      
      <div class="button-group">
        <button class="secondary" onclick="goToFase1()">Anterior</button>
        <button onclick="goToFase3()">Siguiente</button>
      </div>
    </section>

    <section id="fase3">
      <h2>Fase 3: Configuración de precios y estimación</h2>
      
      <div class="card">
        <h3>Configuración de Precios</h3>
        <div class="form-group">
          <label for="selectedProduct">Producto:</label>
          <select id="selectedProduct" onchange="cargarDatosProducto()"></select>
        </div>
        
        <div class="form-group">
          <label for="priceMethod">Método de precio:</label>
          <select id="priceMethod" onchange="togglePriceMethod()">
            <option value="manual">Manual</option>
            <option value="margen">Por margen</option>
          </select>
        </div>
        
        <div id="manualPriceGroup" class="price-method-group">
          <div class="form-group">
            <label for="unitPrice">Precio de venta unitario:</label>
            <input type="number" id="unitPrice" step="0.01" min="0" placeholder="0.00" onchange="calcularMargenDesdePrecio()">
          </div>
        </div>
        
        <div id="margenGroup" class="price-method-group" style="display: none;">
          <div class="form-group">
            <label for="desiredMargin">Margen deseado (%):</label>
            <input type="number" id="desiredMargin" step="0.01" min="0" max="100" placeholder="0.00" onchange="calcularPrecioDesdeMargen()">
          </div>
        </div>
        
        <div class="form-group">
          <label for="estimatedQty">Cantidad estimada a vender:</label>
          <input type="number" id="estimatedQty" step="1" min="0" placeholder="0" onchange="actualizarResumenProducto()">
        </div>
        
        <div class="button-group">
          <button onclick="agregarProductoResumen()">Agregar al Resumen</button>
          <button onclick="calcularEstimacionGeneral()">Calcular Estimación General</button>
        </div>
      </div>
      
      <div id="resultadoProducto" class="card" style="display: none;">
        <h3>Resultados del Producto</h3>
        <div id="resumenProducto"></div>
      </div>
      
      <div id="resumenGeneral" class="card" style="display: none;">
        <h3>Resumen General</h3>
        <div id="tablaResumen"></div>
        <div id="estimacionGeneral"></div>
      </div>
    </section>
  </div>

  <script>
    // Variables globales
    let fixedCosts = 0;
    let listaCostos = [];
    const products = [];
    let chart;
    const resumenProductos = [];

    // Funciones para manejar las fases
    function mostrarFase(id) {
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
      
      // Actualizar barra de progreso
      document.querySelectorAll(".progress-step").forEach(step => {
        step.classList.remove("active", "completed");
      });
      
      if (id === "fase1") {
        document.getElementById("step1").classList.add("active");
      } else if (id === "fase2") {
        document.getElementById("step1").classList.add("completed");
        document.getElementById("step2").classList.add("active");
      } else if (id === "fase3") {
        document.getElementById("step1").classList.add("completed");
        document.getElementById("step2").classList.add("completed");
        document.getElementById("step3").classList.add("active");
        actualizarSelectProducto();
      }
    }

    function goToFase1() {
      mostrarFase("fase1");
    }

    function goToFase2() {
      if (listaCostos.length === 0) {
        alert("Debe agregar al menos un costo fijo para continuar.");
        return;
      }
      fixedCosts = listaCostos.reduce((acc, item) => acc + item.monto, 0);
      mostrarFase("fase2");
    }

    function goToFase3() {
      if (products.length === 0) {
        alert("Debe agregar al menos un producto para continuar.");
        return;
      }
      mostrarFase("fase3");
    }

    // Funciones para costos fijos
    function agregarCostoFijo() {
      const concepto = document.getElementById("costoConcepto").value.trim();
      const monto = parseFloat(document.getElementById("costoMonto").value);
      
      if (!concepto) {
        alert("Por favor, ingrese un concepto para el costo fijo.");
        return;
      }
      
      if (isNaN(monto) || monto <= 0) {
        alert("Por favor, ingrese un monto válido mayor a cero.");
        return;
      }
      
      listaCostos.push({ concepto, monto });
      renderTablaCostos();
      document.getElementById("costoConcepto").value = "";
      document.getElementById("costoMonto").value = "";
      document.getElementById("costoConcepto").focus();
    }

    function renderTablaCostos() {
      const tbody = document.getElementById("tablaCostos");
      tbody.innerHTML = "";
      let total = 0;
      
      listaCostos.forEach((item, i) => {
        tbody.innerHTML += `
          <tr>
            <td>${item.concepto}</td>
            <td>$${item.monto.toFixed(2)}</td>
            <td class="actions">
              <button onclick='editarCosto(${i})'>Editar</button>
              <button onclick='eliminarCosto(${i})'>Eliminar</button>
            </td>
          </tr>`;
        total += item.monto;
      });
      
      document.getElementById("totalCostos").textContent = `$${total.toFixed(2)}`;
    }

    function editarCosto(i) {
      const item = listaCostos[i];
      document.getElementById("costoConcepto").value = item.concepto;
      document.getElementById("costoMonto").value = item.monto;
      listaCostos.splice(i, 1);
      renderTablaCostos();
    }

    function eliminarCosto(i) {
      if (confirm("¿Está seguro de que desea eliminar este costo fijo?")) {
        listaCostos.splice(i, 1);
        renderTablaCostos();
      }
    }

    // Funciones para productos
    function addProductToList() {
      const name = document.getElementById("productName").value.trim();
      const cost = parseFloat(document.getElementById("unitCost").value);
      
      if (!name) {
        alert("Por favor, ingrese un nombre para el producto.");
        return;
      }
      
      if (isNaN(cost) || cost <= 0) {
        alert("Por favor, ingrese un costo válido mayor a cero.");
        return;
      }
      
      products.push({ name, cost });
      renderTablaProductos();
      document.getElementById("productName").value = "";
      document.getElementById("unitCost").value = "";
      document.getElementById("productName").focus();
    }

    function renderTablaProductos() {
      const tbody = document.getElementById("productTableBody");
      tbody.innerHTML = "";
      
      products.forEach((p, i) => {
        tbody.innerHTML += `
          <tr>
            <td>${p.name}</td>
            <td>$${p.cost.toFixed(2)}</td>
            <td class="actions">
              <button onclick='editarProducto(${i})'>Editar</button>
              <button onclick='eliminarProducto(${i})'>Eliminar</button>
            </td>
          </tr>`;
      });
      
      actualizarSelectProducto();
    }

    function editarProducto(i) {
      const p = products[i];
      document.getElementById("productName").value = p.name;
      document.getElementById("unitCost").value = p.cost;
      products.splice(i, 1);
      renderTablaProductos();
    }

    function eliminarProducto(i) {
      if (confirm("¿Está seguro de que desea eliminar este producto?")) {
        products.splice(i, 1);
        renderTablaProductos();
      }
    }

    function actualizarSelectProducto() {
      const select = document.getElementById("selectedProduct");
      select.innerHTML = "";
      
      products.forEach(p => {
        const option = document.createElement("option");
        option.value = p.name;
        option.textContent = `${p.name} ($${p.cost.toFixed(2)})`;
        select.appendChild(option);
      });
      
      // Mostrar el método de precio manual por defecto
      togglePriceMethod();
    }

    // Funciones para cálculos de precios
    function togglePriceMethod() {
      const method = document.getElementById("priceMethod").value;
      document.getElementById("manualPriceGroup").style.display = method === 'manual' ? 'block' : 'none';
      document.getElementById("margenGroup").style.display = method === 'margen' ? 'block' : 'none';
      
      // Limpiar campos
      document.getElementById("unitPrice").value = "";
      document.getElementById("desiredMargin").value = "";
      document.getElementById("resumenProducto").innerHTML = "";
      document.getElementById("resultadoProducto").style.display = "none";
    }

    function cargarDatosProducto() {
      const selectedName = document.getElementById("selectedProduct").value;
      const product = products.find(p => p.name === selectedName);
      
      if (product) {
        // Limpiar campos
        document.getElementById("unitPrice").value = "";
        document.getElementById("desiredMargin").value = "";
        document.getElementById("estimatedQty").value = "";
        document.getElementById("resumenProducto").innerHTML = "";
        document.getElementById("resultadoProducto").style.display = "none";
      }
    }

    function calcularPrecioDesdeMargen() {
      const selectedName = document.getElementById("selectedProduct").value;
      const product = products.find(p => p.name === selectedName);
      const margin = parseFloat(document.getElementById("desiredMargin").value);
      
      if (product && !isNaN(margin) && margin >= 0 && margin < 100) {
        const unitPrice = product.cost / (1 - margin / 100);
        document.getElementById("unitPrice").value = unitPrice.toFixed(2);
        actualizarResumenProducto();
      }
    }

    function calcularMargenDesdePrecio() {
      const selectedName = document.getElementById("selectedProduct").value;
      const product = products.find(p => p.name === selectedName);
      const unitPrice = parseFloat(document.getElementById("unitPrice").value);
      
      if (product && !isNaN(unitPrice) && unitPrice > 0) {
        const margin = ((unitPrice - product.cost) / unitPrice) * 100;
        document.getElementById("desiredMargin").value = margin.toFixed(2);
        actualizarResumenProducto();
      }
    }

    function actualizarResumenProducto() {
      const selectedName = document.getElementById("selectedProduct").value;
      const product = products.find(p => p.name === selectedName);
      const unitPrice = parseFloat(document.getElementById("unitPrice").value);
      const estimatedQty = parseFloat(document.getElementById("estimatedQty").value);
      
      if (!product || isNaN(unitPrice) || unitPrice <= 0) {
        return;
      }
      
      const contribution = unitPrice - product.cost;
      const peUnits = fixedCosts / contribution;
      const peValue = peUnits * unitPrice;
      const totalRevenue = unitPrice * estimatedQty;
      const totalContribution = contribution * estimatedQty;
      
      let status, colorClass;
      if (peUnits === 0) { 
        status = 'Equilibrio'; 
        colorClass = 'yellow'; 
      } else if (peUnits > 0 && contribution > 0) { 
        status = 'Ganancia'; 
        colorClass = 'green'; 
      } else { 
        status = 'Pérdida'; 
        colorClass = 'red'; 
      }
      
      document.getElementById("resumenProducto").innerHTML = `
        <div class="summary ${colorClass}">
          <p><strong>Producto:</strong> ${product.name}</p>
          <p><strong>Precio Unitario:</strong> $${unitPrice.toFixed(2)}</p>
          <p><strong>Costo Unitario:</strong> $${product.cost.toFixed(2)}</p>
          <p><strong>Margen de Contribución:</strong> $${contribution.toFixed(2)}</p>
          <p><strong>Punto de Equilibrio (unidades):</strong> ${Math.ceil(peUnits)}</p>
          <p><strong>Punto de Equilibrio (valor):</strong> $${peValue.toFixed(2)}</p>
          <p><strong>Cantidad Estimada:</strong> ${isNaN(estimatedQty) ? 0 : estimatedQty}</p>
          <p><strong>Ingreso Total Estimado:</strong> $${isNaN(totalRevenue) ? '0.00' : totalRevenue.toFixed(2)}</p>
          <p><strong>Contribución Total Estimada:</strong> $${isNaN(totalContribution) ? '0.00' : totalContribution.toFixed(2)}</p>
          <p><strong>Estado:</strong> ${status}</p>
        </div>
      `;
      
      document.getElementById("resultadoProducto").style.display = "block";
    }

    function agregarProductoResumen() {
      const selectedName = document.getElementById("selectedProduct").value;
      const product = products.find(p => p.name === selectedName);
      const unitPrice = parseFloat(document.getElementById("unitPrice").value);
      const estimatedQty = parseFloat(document.getElementById("estimatedQty").value);
      
      if (!product) {
        alert("Por favor, seleccione un producto válido.");
        return;
      }
      
      if (isNaN(unitPrice) || unitPrice <= 0) {
        alert("Por favor, calcule primero el precio unitario antes de agregar al resumen.");
        return;
      }
      
      if (isNaN(estimatedQty) || estimatedQty <= 0) {
        alert("Por favor, ingrese una cantidad estimada válida mayor a cero.");
        return;
      }
      
      const contribution = unitPrice - product.cost;
      const totalRevenue = unitPrice * estimatedQty;
      const totalContribution = contribution * estimatedQty;
      const peUnits = fixedCosts / contribution;
      
      // Verificar si el producto ya está en el resumen
      const existingIndex = resumenProductos.findIndex(p => p.producto === product.name);
      if (existingIndex !== -1) {
        resumenProductos[existingIndex] = { 
          producto: product.name, 
          costo: product.cost,
          precio: unitPrice, 
          contribucion: contribution, 
          cantidad: estimatedQty,
          ingreso: totalRevenue,
          contribucionTotal: totalContribution,
          puntoEquilibrio: peUnits
        };
      } else {
        resumenProductos.push({ 
          producto: product.name, 
          costo: product.cost,
          precio: unitPrice, 
          contribucion: contribution, 
          cantidad: estimatedQty,
          ingreso: totalRevenue,
          contribucionTotal: totalContribution,
          puntoEquilibrio: peUnits
        });
      }
      
      renderTablaResumen();
      document.getElementById("resumenGeneral").style.display = "block";
    }

    function renderTablaResumen() {
      if (resumenProductos.length === 0) {
        document.getElementById("tablaResumen").innerHTML = "";
        return;
      }
      
      let tablaHTML = `
        <table class="estimation-table">
          <thead>
            <tr>
              <th>Producto</th>
              <th>Costo Unitario</th>
              <th>Precio Unitario</th>
              <th>Margen Contrib.</th>
              <th>Cantidad Estimada</th>
              <th>Ingreso Total</th>
              <th>Contribución Total</th>
              <th>Pto. Equilibrio (unid.)</th>
            </tr>
          </thead>
          <tbody>`;
      
      resumenProductos.forEach(p => {
        tablaHTML += `
          <tr>
            <td>${p.producto}</td>
            <td>$${p.costo.toFixed(2)}</td>
            <td>$${p.precio.toFixed(2)}</td>
            <td>$${p.contribucion.toFixed(2)}</td>
            <td>${p.cantidad}</td>
            <td>$${p.ingreso.toFixed(2)}</td>
            <td>$${p.contribucionTotal.toFixed(2)}</td>
            <td>${Math.ceil(p.puntoEquilibrio)}</td>
          </tr>`;
      });
      
      tablaHTML += `</tbody></table>`;
      document.getElementById("tablaResumen").innerHTML = tablaHTML;
    }

    function calcularEstimacionGeneral() {
      if (resumenProductos.length === 0) {
        alert("Por favor, agregue al menos un producto al resumen antes de calcular la estimación general.");
        return;
      }
      
      let ingresoTotal = 0;
      let contribucionTotal = 0;
      let costoTotal = 0;
      
      resumenProductos.forEach(p => {
        ingresoTotal += p.ingreso;
        contribucionTotal += p.contribucionTotal;
        costoTotal += p.costo * p.cantidad;
      });
      
      // Cálculo del punto de equilibrio general
      const peGeneral = fixedCosts / (contribucionTotal / ingresoTotal);
      const utilidad = contribucionTotal - fixedCosts;
      
      let estadoGeneral, estadoClass;
      if (utilidad > 0) {
        estadoGeneral = 'Ganancia';
        estadoClass = 'green';
      } else if (utilidad === 0) {
        estadoGeneral = 'Equilibrio';
        estadoClass = 'yellow';
      } else {
        estadoGeneral = 'Pérdida';
        estadoClass = 'red';
      }
      
      document.getElementById("estimacionGeneral").innerHTML = `
        <div class="summary ${estadoClass}">
          <h4>Estimación General del Negocio</h4>
          <p><strong>Costos Fijos Totales:</strong> $${fixedCosts.toFixed(2)}</p>
          <p><strong>Ingreso Total Estimado:</strong> $${ingresoTotal.toFixed(2)}</p>
          <p><strong>Costos Variables Totales:</strong> $${costoTotal.toFixed(2)}</p>
          <p><strong>Contribución Total:</strong> $${contribucionTotal.toFixed(2)}</p>
          <p><strong>Utilidad Estimada:</strong> $${utilidad.toFixed(2)}</p>
          <p><strong>Punto de Equilibrio General (ingreso):</strong> $${peGeneral.toFixed(2)}</p>
          <p><strong>Estado General:</strong> ${estadoGeneral}</p>
        </div>
      `;
    }

    // Inicialización
    document.addEventListener('DOMContentLoaded', function() {
      mostrarFase("fase1");
      togglePriceMethod();
    });
  </script>
</body>
</html>
